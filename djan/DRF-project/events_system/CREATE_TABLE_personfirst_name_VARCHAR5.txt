CREATE TABLE person(first_name VARCHAR(50),last_name VARCHAR(50),date_of_birth DATE,country_of_birth VARCHAR(50),sex CHAR(1) CHECK (sex IN ('F', 'M')));
SET datestyle = 'DMY';
CREATE TABLE person (first_name VARCHAR(50), last_name VARCHAR(50), date_of_birth date, country_of_birth VARCHAR(50), sex CHAR(1) CHECK (sex IN ('F', 'M')));
CREATE TABLE majors (major_id INT PRIMARY KEY,major_name VARCHAR(50));
CREATE TABLE cities (city_id INT PRIMARY KEY,city_name VARCHAR(50));

CREATE TABLE bases (base_id INT PRIMARY KEY,base_name VARCHAR(50));

CREATE TABLE schools (school_id INT PRIMARY KEY,school_name VARCHAR(50));

CREATE TABLE students (id VARCHAR(9) PRIMARY KEY CHECK (LENGTH(id) = 9),city_id INT REFERENCES cities(city_id),major_id INT REFERENCES majors(major_id),school_id INT REFERENCES schools(school_id)) INHERITS (person);

CREATE TABLE soldiers (soldier_id NUMERIC(7,0) PRIMARY KEY,id VARCHAR(9) UNIQUE CHECK (LENGTH(id) = 9), enlistment_date date, release_date date,CONSTRAINT age_today CHECK ((EXTRACT (year FROM age (current_date, date_of_birth)):: int >= 18)),city_id INT REFERENCES cities(city_id),base_id INT REFERENCES bases(base_id),CONSTRAINT check_id CHECK (LENGTH(id) = 9)) INHERITS (person);